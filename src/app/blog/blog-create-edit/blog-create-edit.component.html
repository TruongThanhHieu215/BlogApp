<form [formGroup]="formBlog" (ngSubmit)="onSubmit()"
	class="container d-flex flex-column justify-content-center aline-items-center">
	<div class="mb-3">
		<label for="title">Title:</label>
		<input id="title" formControlName="title" type="text" class="form-control" />
		<div
			*ngIf="formBlog.get('title')?.invalid && (formBlog.get('title')?.dirty || formBlog.get('title')?.touched)">
			<span *ngIf="formBlog.get('title')?.errors?.['required']" class="text-danger">Title is required.</span>
			<span *ngIf="formBlog.get('title')?.errors?.['whitespace'] && !formBlog.get('title')?.errors?.['required']"
				class="text-danger">Title cannot be only whitespace.</span>
		</div>
	</div>

	<div class="mb-3">
		<label for="content">Content:</label>
		<textarea id="content" formControlName="content" rows="5" class="form-control"></textarea>
		<div
			*ngIf="formBlog.get('content')?.invalid && (formBlog.get('content')?.dirty || formBlog.get('content')?.touched)">
			<span *ngIf="formBlog.get('content')?.errors?.['required']" class="text-danger">Content is required.</span>
		</div>
	</div>

	<div class="mb-3">
		<div [formGroupName]="'image'">
			<label for="image">Image:</label>
			<input id="image" type="file" (change)="onFileChange($event)" class="form-control" />
			<div
				*ngIf="formBlog.get('image.url')?.invalid && (formBlog.get('image.url')?.dirty || formBlog.get('image.url')?.touched)">
				<span *ngIf="formBlog.get('image.url')?.errors?.['required']" class="text-danger">Image is required.</span>
			</div>
		</div>
	</div>
	<div class="mb-3 text-start">
		<label for="image">PreviewI image:</label>
		<div>
			<img src="{{previewImage}}" class="img-thumbnail w-100" style="max-width: 20rem; object-fit: cover;" alt=""
				onerror="this.src='../assets/images/default-fallback-image.png'">
		</div>
	</div>

	<div class="d-flex justify-content-center aline-items-center">
		<button type="submit" class="btn btn-primary">Submit</button>
	</div>
</form>